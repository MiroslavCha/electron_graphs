<html>
<body>

<h1> Generated Graph </h1>

<script type="text/javascript" src="../node_modules/canvasjs/dist/canvasjs.js"></script>

<br/>
<select id = "dps" style = "margin-bottom: 0px">
<option value=100 >100 Data Points</option>
<option value=1000>1000 Data Points</option>
<option value=5000>5000 Data Points</option>
<option value=10000>10000 Data Points</option>
<option value=30000>30000 Data Points</option>
<option value=50000 >50000 Data Points</option>

<option value=80000>80000 Data Points</option>
<option value=100000 selected="selected">100000 Data Points</option>
</select>

<br/>
<br/>

<button id="id1" onclick="gen()"> Generate</button>
<div id="genTime"> 0ms</div>
<button id="id2" onclick="draw()">Render</button>
<div id= "renderTime"> 0ms</div>
<br/>
<br/>

<div id="container" style="height: 800px; width: 100%;"></div>

<script>
var pointCnt = 100000;

function gen() {
var e = document.getElementById("dps");
var pointCnt = e.options[e.selectedIndex].value;
var limit = pointCnt;

var startGen = new Date();

 var y = 0;
 var data = [];
 var dataSeries = { type: "line" };
 var dataPoints = [];
 for (var i = 0; i < limit; i += 1) {
   y += (Math.random() * 10 - 5);
   dataPoints.push({
     x: i,
     y: y
   });
 }
 dataSeries.dataPoints = dataPoints;
 data.push(dataSeries);

 document.performanceChart = new CanvasJS.Chart("container",
 {
   zoomEnabled: false,
   panEnabled: true,
   title:{
     text: "Try Zooming and Panning"
   },
   legend: {
     horizontalAlign: "right",
     verticalAlign: "center"
   },
   axisY:{
     includeZero: false
    },
     data: data,
   });
 var endGen = new Date();
 var diff = endGen - startGen;

 document.getElementById("genTime").innerHTML= diff.toString() + "ms";
}

function draw()
{
  var startRender = new Date();
  document.performanceChart.render();
  var endRender = new Date();

  var diff = endRender - startRender;
  document.getElementById("renderTime").innerHTML= diff.toString() + "ms";
}


</script>

</body>
</html>
